(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      9551,        204]
NotebookOptionsPosition[      9292,        190]
NotebookOutlinePosition[      9652,        206]
CellTagsIndexPosition[      9609,        203]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", 
   RowBox[{"data", ",", "$", ",", "$$"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"totalstep", " ", "=", " ", "1000"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"names", "=", 
   RowBox[{"Take", "[", 
    RowBox[{
     RowBox[{"FileNames", "[", "\"\<*.txt\>\"", "]"}], ",", "1"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Clear", "[", 
   RowBox[{"$", ",", "$$", ",", "t", ",", "tt", ",", "num", ",", "data"}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$", "=", 
   RowBox[{"Import", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"NotebookDirectory", "[", "]"}], "<>", "\"\<output.txt\>\""}], 
     ",", "\"\<Text\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$$", "=", 
   RowBox[{"(", 
    RowBox[{"StringExtract", "[", 
     RowBox[{"$", ",", 
      RowBox[{"\"\<----------\>\"", "\[Rule]", " ", "All"}]}], "]"}], ")"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"data", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"t", "=", 
        RowBox[{"ToString", "[", 
         RowBox[{"$$", "[", 
          RowBox[{"[", "#", "]"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"tt", "=", 
        RowBox[{"StringCases", "[", 
         RowBox[{"t", ",", 
          RowBox[{
           RowBox[{"\"\<step length(h)=\>\"", "~~", 
            RowBox[{"h", ":", "NumberString"}], "~~", "\"\<, err=\>\"", "~~", 
            RowBox[{"err", ":", "NumberString"}], "~~", "\"\<\\nSunMass=\>\"",
             "~~", 
            RowBox[{"sunmass", ":", "NumberString"}], "~~", "\"\<, Num=\>\"", 
            "~~", 
            RowBox[{"num", ":", "NumberString"}]}], "\[RuleDelayed]", "  ", 
           RowBox[{"ToExpression", "@", 
            RowBox[{"{", 
             RowBox[{"h", ",", "err", ",", "sunmass", ",", "num"}], 
             "}"}]}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"num", "=", 
        RowBox[{"Last", "@", 
         RowBox[{"Flatten", "[", "tt", "]"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"StringExtract", "[", 
        RowBox[{"t", ",", 
         RowBox[{"\"\<\\n\>\"", "\[Rule]", " ", 
          RowBox[{"4", ";;", 
           RowBox[{"num", "+", "3"}]}]}]}], "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"Flatten", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"StringCases", "[", 
             RowBox[{"#", ",", 
              RowBox[{
               RowBox[{"\"\<ID: \>\"", "~~", 
                RowBox[{"id", ":", "NumberString"}], "~~", "\"\<, pos=(\>\"", 
                "~~", 
                RowBox[{"x", ":", "NumberString"}], "~~", "\"\<,\>\"", "~~", 
                RowBox[{"y", ":", "NumberString"}], "~~", "\"\<,\>\"", "~~", 
                RowBox[{"z", ":", "NumberString"}], "~~", 
                "\"\<), vel=(\>\""}], "\[RuleDelayed]", " ", 
               RowBox[{"ToExpression", "@", 
                RowBox[{"{", 
                 RowBox[{"x", ",", "y", ",", "z"}], "}"}]}]}]}], "]"}], "&"}],
            ")"}], "/@", "\[IndentingNewLine]", 
          RowBox[{"StringExtract", "[", 
           RowBox[{"t", ",", 
            RowBox[{"\"\<\\n\>\"", "\[Rule]", " ", 
             RowBox[{"4", ";;", 
              RowBox[{"num", "+", "3"}]}]}]}], "]"}]}], ",", "1"}], "]"}]}], 
      "\[IndentingNewLine]", ")"}], "&"}], "/@", 
    RowBox[{"Range", "[", 
     RowBox[{"1", ",", "totalstep"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"data", "=", 
   RowBox[{"Flatten", "[", 
    RowBox[{"data", ",", "1"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"ListPointPlot3D", "[", 
  RowBox[{
   RowBox[{"Join", "[", 
    RowBox[{"data", ",", 
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0"}], "}"}], "}"}]}], "]"}], ",", 
   RowBox[{"PlotStyle", "\[Rule]", 
    RowBox[{"PointSize", "[", "0.00001", "]"}]}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.7262245260671325`*^9, 3.726224538986128*^9}, {
   3.7262245779995975`*^9, 3.726224578313842*^9}, {3.726224626162736*^9, 
   3.7262246467001295`*^9}, {3.726224729358395*^9, 3.7262248498379908`*^9}, {
   3.72622498043239*^9, 3.726224991641085*^9}, {3.7262250694321094`*^9, 
   3.726225108134225*^9}, {3.7262251560981026`*^9, 3.726225172044656*^9}, {
   3.72622520348345*^9, 3.7262252696359763`*^9}, {3.726225384317566*^9, 
   3.726225400706107*^9}, {3.7262255616148005`*^9, 3.7262259423465414`*^9}, {
   3.726225975492638*^9, 3.7262259756532245`*^9}, {3.7262260067006884`*^9, 
   3.7262260140544963`*^9}, {3.7262260484164104`*^9, 3.726226113879654*^9}, {
   3.7262261524764833`*^9, 3.726226179998533*^9}, {3.7262262490501304`*^9, 
   3.7262262824413857`*^9}, {3.72622645045995*^9, 3.7262265019755363`*^9}, {
   3.7262265886075473`*^9, 3.7262266401910067`*^9}, {3.726226676252906*^9, 
   3.726226806859125*^9}, {3.726226946109784*^9, 3.72622694852905*^9}, {
   3.726226978890068*^9, 3.726226979796281*^9}, {3.726227264466399*^9, 
   3.7262272730402822`*^9}, {3.72626961753765*^9, 3.72626971634171*^9}, {
   3.7262697593345346`*^9, 3.7262698420856457`*^9}, {3.726269915363636*^9, 
   3.726269949505123*^9}, {3.726270031611166*^9, 3.7262700801118016`*^9}, {
   3.7262702337357883`*^9, 3.7262703109611225`*^9}, {3.7262703720768757`*^9, 
   3.726270387240082*^9}, {3.7262723365087833`*^9, 3.726272373030278*^9}, {
   3.7262724367189083`*^9, 3.7262726024242945`*^9}, {3.726272666411851*^9, 
   3.7262726895334187`*^9}, {3.726273202128995*^9, 3.726273271305853*^9}, {
   3.726273307218935*^9, 3.7262733151061764`*^9}, {3.726273351864319*^9, 
   3.7262733838198495`*^9}, {3.7262738542889843`*^9, 
   3.7262738570148478`*^9}, {3.726274356191289*^9, 3.72627445415036*^9}, {
   3.726274533229267*^9, 3.7262745403588095`*^9}, {3.726274584988045*^9, 
   3.7262746782016125`*^9}, {3.726274737707097*^9, 3.7262747450437965`*^9}, {
   3.7262750578769407`*^9, 3.726275068582594*^9}, {3.726275829655724*^9, 
   3.7262758318037786`*^9}, {3.72627756162719*^9, 3.726277576248073*^9}, {
   3.72627766687953*^9, 3.726277667504939*^9}, {3.7296336830711174`*^9, 
   3.729633754336562*^9}, {3.7296338063923593`*^9, 3.7296338913147383`*^9}, {
   3.729634318022502*^9, 3.7296343996507626`*^9}, {3.72963443039542*^9, 
   3.729634480810676*^9}, 3.72963453820901*^9, {3.7296345700967436`*^9, 
   3.729634620924639*^9}, {3.729635637646924*^9, 3.7296356838044157`*^9}, {
   3.7296357598809147`*^9, 3.729635772813146*^9}, {3.729635824004697*^9, 
   3.7296358531516347`*^9}, {3.7296358978987145`*^9, 3.72963590200414*^9}, {
   3.729635983681511*^9, 3.729636009286558*^9}, {3.72963612439023*^9, 
   3.7296363518110723`*^9}, {3.729636392618039*^9, 3.7296364454029613`*^9}, {
   3.729636496588814*^9, 3.7296365031408987`*^9}, {3.7296365666837387`*^9, 
   3.729636573020135*^9}, {3.7296366304242897`*^9, 3.729636706663988*^9}, {
   3.7296373567572193`*^9, 3.7296374224718127`*^9}, {3.7296374851645823`*^9, 
   3.7296375287977667`*^9}, {3.729637925670759*^9, 3.729637977161396*^9}, {
   3.729638009843253*^9, 3.7296380449713883`*^9}, {3.7296380844839797`*^9, 
   3.729638115298916*^9}, {3.7296382187453966`*^9, 3.729638222391899*^9}, {
   3.729638300601878*^9, 3.7296383144388013`*^9}, {3.729638509784101*^9, 
   3.7296387353392487`*^9}, {3.729638802350773*^9, 3.72963882794114*^9}, {
   3.729638981745264*^9, 3.7296389903234625`*^9}, {3.729639024812994*^9, 
   3.729639131802972*^9}, {3.7296391944753666`*^9, 3.729639252877932*^9}, {
   3.7296392883870325`*^9, 3.729639323356092*^9}, {3.7296394352397833`*^9, 
   3.7296396572118416`*^9}, {3.729639693794876*^9, 3.7296398512561145`*^9}, 
   3.729639943958584*^9, {3.729639979872088*^9, 3.7296401120168767`*^9}, {
   3.729640154676238*^9, 3.729640248352123*^9}, {3.729640295598997*^9, 
   3.7296403642054415`*^9}, {3.7296404520357695`*^9, 3.729640525565181*^9}, {
   3.7296406004775105`*^9, 3.729640857372737*^9}, {3.729640938216258*^9, 
   3.729640960968341*^9}, {3.7296409918689957`*^9, 3.7296410169049735`*^9}, {
   3.72964104757148*^9, 3.7296410726482296`*^9}, {3.7296413999076853`*^9, 
   3.7296415044182587`*^9}, {3.7296415395348544`*^9, 
   3.7296415501944942`*^9}, {3.7296416519483213`*^9, 
   3.7296417054827204`*^9}, {3.7296418828191166`*^9, 
   3.7296419117193174`*^9}, {3.7296420127624965`*^9, 3.72964205318039*^9}, {
   3.7296421108676867`*^9, 3.7296422227609425`*^9}, {3.729642555052656*^9, 
   3.7296427147447724`*^9}, 3.7296427540163097`*^9, {3.729642789736673*^9, 
   3.7296428000371103`*^9}, {3.729642830949013*^9, 3.729642890869981*^9}}]
},
WindowSize->{1920, 1016},
WindowMargins->{{-11, Automatic}, {Automatic, -11}},
FrontEndVersion->"11.0 for Microsoft Windows (64-bit) (2016\:5e7410\:67088\
\:65e5)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 8730, 168, 568, "Input"]
}
]
*)

